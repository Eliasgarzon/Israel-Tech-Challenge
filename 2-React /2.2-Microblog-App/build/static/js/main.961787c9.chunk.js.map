{"version":3,"sources":["mui/theme.js","firebase/config.js","context/AuthContext.js","hooks/useAuthContext.js","components/Searchbar.js","components/UserAvatar.js","components/Navbar.js","hooks/useLogout.js","hooks/useFirestore.js","components/TweetForm.js","hooks/useDocument.js","components/FollowButton.js","components/UserCardHeader.js","components/UserProfile.js","components/ListModal.js","components/AvatarGroupItem.js","components/LikeButton.js","components/Tweet.js","components/TweetList.js","hooks/useCollection.js","components/FilterTweets.js","pages/home/Home.js","pages/login/Login.js","hooks/useLogin.js","components/OtherUserProfile.js","components/UploadImage.js","components/ProfileForm.js","pages/profile/Profile.js","pages/signup/Signup.js","hooks/useSignup.js","pages/searchResults/ChirpResults.js","pages/searchResults/UserResults.js","pages/searchResults/SearchResults.js","App.js","index.js"],"names":["theme","createTheme","palette","mode","firebaseApp","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","projectDb","getFirestore","projectAuth","getAuth","projectStorage","getStorage","AuthContext","createContext","authReducer","state","action","type","userName","payload","user","authIsReady","AuthContextProvider","children","useReducer","dispatch","useEffect","onAuthStateChanged","unsub","Provider","value","setUserName","useAuthContext","context","useContext","undefined","Error","Searchbar","searchInputInitial","useParams","useState","activeButton","setActiveButton","searchInput","setSearchInput","navigate","useNavigate","Box","sx","mx","display","alignItems","gap","TextField","onChange","e","target","InputProps","endAdornment","Button","disabled","variant","onClick","navigateLink","toLowerCase","window","location","reload","ButtonGroup","disableElevation","UserAvatar","uid","size","textTransform","Avatar","alt","displayName","src","photoURL","height","width","Typography","component","noWrap","Navbar","isCancelled","setIsCancelled","error","setError","isPending","setIsPending","logout","a","signOut","console","log","message","useLogout","AppBar","position","Toolbar","xs","sm","to","className","marginLeft","p","initialState","document","success","firestoreReducer","useFirestore","collectionName","response","isUserDb","ref","collection","dispatchIfNotCancelled","addDocument","addDoc","setDoc","doc","addedDocument","getDocument","docId","docRef","getDoc","docSnap","docInfo","data","updateDocumentArray","property","option","updateDoc","arrayUnion","arrayRemove","TweetForm","content","setContent","isMaxLength","setIsMaxLength","handleSubmit","preventDefault","tweet","createdBy","date","Date","toISOString","likes","onSubmit","helperText","required","label","event","length","multiline","minRows","my","color","mt","inputProps","maxLength","Alert","severity","LinearProgress","mb","useDocument","setDocument","unsubscribe","onSnapshot","FollowButton","userId","otherUserId","otherUserFollowers","isFollowing","setIsFollowing","forEach","follower","id","handleFollow","stopPropagation","followed","prev","useStyles","makeStyles","tweetHeader","textDecoration","backgroundColor","grey","cursor","UserCardHeader","loggedUserId","classes","CardHeader","avatar","title","borderBottom","borderColor","followers","UserProfile","otherUser","otherUserInfo","Card","elevation","bgcolor","CircularProgress","style","top","left","transform","overflow","boxShadow","ListModal","buttonText","errorMessage","open","setOpen","Modal","onClose","List","map","AvatarGroupItem","userProfile","LikeButton","isLiked","setIsliked","handleClick","likedBy","IconButton","Tweet","tweetOwner","modalButtonDisplay","AvatarGroup","max","slice","CardContent","CardActions","disableSpacing","TweetList","flexDirection","useCollection","condition","order","documents","setDocuments","docLimit","setDocLimit","docLimitError","setDocLimitError","query","where","orderBy","limit","snapshot","results","docs","push","getMoreDocs","reset","FilterTweets","myMap","setTweetFilterCondition","userInfo","selected","setSelected","ALL","MY_CHIRPS","MY_LIKED_CHIRPS","FOLLOWING","following","ToggleButtonGroup","exclusive","ToggleButton","Home","tweetFilterCondition","tweetOrderCondition","onScroll","scrollHeight","scrollTop","clientHeight","Login","email","setEmail","password","setPassword","login","signInWithEmailAndPassword","res","useLogin","padding","OtherUserProfile","baseStyle","flex","borderWidth","borderRadius","borderStyle","outline","transition","activeStyle","acceptStyle","rejectStyle","thumbsContainer","flexWrap","marginTop","justifyContent","thumb","border","marginBottom","marginRight","boxSizing","thumbInner","minWidth","img","UploadImage","setThumbnail","setThumbnailError","thumbnailError","showPreview","thumbnail","files","setFiles","useDropzone","validator","file","split","accept","maxSize","onDrop","acceptedFiles","Object","assign","URL","createObjectURL","getRootProps","getInputProps","isDragActive","isDragAccept","isDragReject","thumbs","name","revokeObjectURL","preview","useMemo","ProfileForm","currentUserProfile","isEditMode","setIsEditMode","currentUser","setCurrentUser","userRef","uploadPath","imageRef","uploadBytes","getDownloadURL","thumbnailURL","updateProfile","isFormChanged","FormControlLabel","control","Switch","checked","alert","replace","onKeyDown","key","Profile","Signup","setDisplayName","signup","createUserWithEmailAndPassword","useSignup","ChirpResults","filterCondition","orderCondition","UserResults","SearchResults","searchFilter","App","ThemeProvider","textAlign","path","element","exact","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.961787c9.chunk.js","sourcesContent":["import { createTheme } from \"@mui/material\";\nconst theme = createTheme({\n  palette: {\n    mode: \"dark\",\n  },\n});\nexport { theme };\n","import { initializeApp } from \"firebase/app\";\nimport { getStorage } from \"firebase/storage\";\nimport { getFirestore } from \"firebase/firestore\";\nimport { getAuth } from \"firebase/auth\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCVDeHyDPZexStP2s4orI-4VrKsCmP7vt8\",\n  authDomain: \"chirper-33289.firebaseapp.com\",\n  projectId: \"chirper-33289\",\n  storageBucket: \"chirper-33289.appspot.com\",\n  messagingSenderId: \"435210229256\",\n  appId: \"1:435210229256:web:e70d8d376104c37843e3bd\",\n};\n\nconst firebaseApp = initializeApp(firebaseConfig);\n\nconst projectDb = getFirestore();\nconst projectAuth = getAuth();\nconst projectStorage = getStorage(firebaseApp);\n\nexport { projectDb, projectAuth, projectStorage };\n","import { onAuthStateChanged } from \"@firebase/auth\";\nimport { projectAuth } from \"../firebase/config\";\nimport { createContext, useEffect, useReducer } from \"react\";\n\nexport const AuthContext = createContext();\n\nconst authReducer = (state, action) => {\n  switch (action.type) {\n    case \"SET_USER\":\n      return { ...state, userName: action.payload };\n    case \"LOGIN\":\n      return { ...state, user: action.payload };\n    case \"LOGOUT\":\n      return { ...state, user: action.payload };\n    case \"AUTH_IS_READY\":\n      return { ...state, user: action.payload, authIsReady: true };\n    default:\n      return state;\n  }\n};\n\nexport function AuthContextProvider({ children }) {\n  const [state, dispatch] = useReducer(authReducer, {\n    userName: \"this user\",\n    user: null,\n    authIsReady: false,\n  });\n  useEffect(() => {\n    const unsub = onAuthStateChanged(projectAuth, (user) => {\n      dispatch({ type: \"AUTH_IS_READY\", payload: user });\n    });\n    unsub();\n  }, []);\n\n  const setUserName = (userName) => {\n    dispatch({ type: \"SET_USER\", payload: userName });\n  };\n\n  return (\n    <AuthContext.Provider value={{ ...state, setUserName, dispatch }}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n","import { useContext } from \"react\";\nimport { AuthContext } from \"../context/AuthContext\";\n\nexport function useAuthContext() {\n  const context = useContext(AuthContext);\n\n  if (context === undefined) {\n    throw new Error(\"Please use the context inside a context provider\");\n  }\n  return context;\n}\n","import { Button, ButtonGroup, TextField } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport { useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router\";\n\nexport default function Searchbar() {\n  const { searchInputInitial } = useParams();\n  const [activeButton, setActiveButton] = useState(\"CHIRPS\");\n  const [searchInput, setSearchInput] = useState(searchInputInitial || \"\");\n  const navigate = useNavigate();\n  const handleSubmit = () => {\n    if (searchInput) {\n      const navigateLink = `/${activeButton.toLowerCase()}/${searchInput}`;\n      navigate(navigateLink);\n    }\n    window.location.reload(true);\n  };\n\n  return (\n    <Box sx={{ mx: \"auto\", display: \"flex\", alignItems: \"center\", gap: 2 }}>\n      <TextField\n        onChange={(e) => setSearchInput(e.target.value)}\n        value={searchInput}\n        InputProps={{\n          endAdornment: (\n            <Button disabled={false} variant=\"text\" onClick={handleSubmit}>\n              Search\n            </Button>\n          ),\n        }}\n      >\n        {\" \"}\n      </TextField>\n      <ButtonGroup disableElevation variant=\"contained\">\n        <Button\n          variant={activeButton === \"CHIRPS\" ? \"contained\" : \"text\"}\n          onClick={() => setActiveButton(\"CHIRPS\")}\n        >\n          Chirps\n        </Button>\n        <Button\n          variant={activeButton === \"USERS\" ? \"contained\" : \"text\"}\n          onClick={() => setActiveButton(\"USERS\")}\n        >\n          Users\n        </Button>\n      </ButtonGroup>\n    </Box>\n  );\n}\n","import { Avatar, Button, Typography } from \"@mui/material\";\nimport { useNavigate } from \"react-router\";\n\nexport default function UserAvatar({ user, sx }) {\n  const navigate = useNavigate();\n  const navigateLink = `/profile/${user.uid}`;\n  return (\n    <Button\n      size=\"small\"\n      variant=\"text\"\n      sx={{\n        display: \"flex\",\n        gap: 1,\n        alignItems: \"center\",\n        textTransform: \"none\",\n        ...sx,\n      }}\n      onClick={() => navigate(navigateLink)}\n    >\n      <Avatar\n        alt={user.displayName}\n        src={user.photoURL}\n        sx={{ height: \"25px\", width: \"25px\" }}\n      />\n      <Typography variant=\"subtitle1\" component=\"span\" noWrap>\n        {user.displayName}\n      </Typography>\n    </Button>\n  );\n}\n","import { AppBar, Button, Toolbar, Typography } from \"@mui/material\";\nimport { NavLink } from \"react-router-dom\";\nimport { useAuthContext } from \"../hooks/useAuthContext\";\nimport { useLogout } from \"../hooks/useLogout\";\nimport \"./Navbar.css\";\nimport Searchbar from \"./Searchbar\";\nimport UserAvatar from \"./UserAvatar\";\n\nexport default function Navbar() {\n  const { user } = useAuthContext();\n  const { logout } = useLogout();\n  return (\n    <AppBar position=\"sticky\">\n      <Toolbar>\n        <Typography\n          variant=\"h6\"\n          noWrap\n          component=\"div\"\n          sx={{ display: { xs: \"none\", sm: \"block\" } }}\n        >\n          CHIRP\n        </Typography>\n        <NavLink to=\"/\" className=\"navLink\">\n          <Typography variant=\"button\"> Home </Typography>\n        </NavLink>\n        <NavLink to=\"/profile\" className=\"navLink\">\n          <Typography variant=\"button\"> Profile </Typography>\n        </NavLink>\n        <Searchbar />\n        <UserAvatar user={user} sx={{ marginLeft: \"auto\", p: 0 }} />\n        <Button size=\"small\" onClick={logout} variant=\"outlined\" sx={{ mx: 2 }}>\n          Logout\n        </Button>\n      </Toolbar>\n    </AppBar>\n  );\n}\n","import { projectAuth } from \"../firebase/config\";\nimport { signOut } from \"@firebase/auth\";\nimport { useEffect, useState } from \"react\";\nimport { useAuthContext } from \"./useAuthContext\";\n\nexport const useLogout = () => {\n  const [isCancelled, setIsCancelled] = useState(false);\n  const [error, setError] = useState(null);\n  const [isPending, setIsPending] = useState(false);\n  const { dispatch } = useAuthContext();\n\n  const logout = async () => {\n    setError(null);\n    setIsPending(true);\n    try {\n      await signOut(projectAuth);\n\n      dispatch({ type: \"LOGOUT\", payload: null });\n\n      if (!isCancelled) {\n        setIsPending(false);\n        setError(null);\n      }\n    } catch (err) {\n      if (!isCancelled) {\n        console.log(err.message);\n        setError(err.message);\n        setIsPending(false);\n      }\n    }\n  };\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, []);\n  return { logout, error, isPending };\n};\n","import { projectDb } from \"../firebase/config\";\nimport {\n  addDoc,\n  setDoc,\n  collection,\n  doc,\n  getDoc,\n  updateDoc,\n  arrayUnion,\n  arrayRemove,\n} from \"firebase/firestore\";\nimport { useEffect, useReducer, useState } from \"react\";\n\nlet initialState = {\n  document: null,\n  isPending: false,\n  error: null,\n  success: null,\n};\n\nconst firestoreReducer = (state, action) => {\n  switch (action.type) {\n    case \"IS_PENDING\":\n      return { isPending: true, document: null, success: false, error: null };\n\n    case \"ADDED_DOCUMENT\":\n      return {\n        isPending: false,\n        document: action.payload,\n        success: true,\n        error: null,\n      };\n    case \"GOT_DOCUMENT\":\n      return {\n        isPending: false,\n        document: action.payload,\n        success: true,\n        error: null,\n      };\n    case \"UPDATED_DOCUMENT\":\n      return {\n        isPending: false,\n        document: action.payload,\n        success: true,\n        error: null,\n      };\n\n    case \"ERROR\":\n      return {\n        isPending: false,\n        document: null,\n        success: false,\n        error: action.payload,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const useFirestore = (collectionName) => {\n  const [response, dispatch] = useReducer(firestoreReducer, initialState);\n  const [isCancelled, setIsCancelled] = useState(false);\n  const isUserDb = collectionName === \"users\";\n\n  const ref = collection(projectDb, collectionName);\n\n  const dispatchIfNotCancelled = (action) => {\n    if (!isCancelled) {\n      dispatch(action);\n    }\n  };\n\n  const addDocument = async (document) => {\n    dispatch({ type: \"IS_PENDING\" });\n    try {\n      const addedDocument = !isUserDb\n        ? await addDoc(ref, document)\n        : await setDoc(doc(projectDb, collectionName, document.uid), document);\n      dispatchIfNotCancelled({\n        type: \"ADDED_DOCUMENT\",\n        payload: addedDocument,\n      });\n    } catch (err) {\n      dispatchIfNotCancelled({ type: \"ERROR\", payload: err.message });\n    }\n  };\n\n  const getDocument = async (docId) => {\n    try {\n      const docRef = doc(projectDb, \"users\", docId);\n      const docSnap = await getDoc(docRef);\n      const docInfo = docSnap.data();\n      dispatchIfNotCancelled({\n        type: \"GOT_DOCUMENT\",\n        payload: docInfo,\n      });\n    } catch (err) {\n      dispatchIfNotCancelled({ type: \"ERROR\", payload: err.message });\n    }\n  };\n\n  const updateDocumentArray = async (docId, property, option) => {\n    try {\n      const docRef = doc(projectDb, collectionName, docId);\n      if (option.type === \"PUSH\") {\n        await updateDoc(docRef, { [property]: arrayUnion(option.payload) });\n      }\n      if (option.type === \"FILTER\") {\n        await updateDoc(docRef, { [property]: arrayRemove(option.payload) });\n      }\n    } catch (err) {\n      dispatchIfNotCancelled({ type: \"ERROR\", payload: err.message });\n    }\n  };\n\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, []);\n\n  return { addDocument, response, getDocument, updateDocumentArray };\n};\n","import { doc } from \"@firebase/firestore\";\nimport { Alert, Button, LinearProgress, TextField } from \"@mui/material\";\nimport { useEffect, useState } from \"react\";\nimport { projectDb } from \"../firebase/config\";\nimport { useAuthContext } from \"../hooks/useAuthContext\";\nimport { useFirestore } from \"../hooks/useFirestore\";\n\nexport default function TweetForm() {\n  const { user } = useAuthContext();\n  const [content, setContent] = useState(\"\");\n  const [isMaxLength, setIsMaxLength] = useState(false);\n  const { addDocument, response } = useFirestore(\"tweets\");\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    const tweet = {\n      uid: user.uid,\n      createdBy: doc(projectDb, \"users\", user.uid),\n      date: new Date().toISOString(),\n      content: content,\n      likes: [],\n    };\n    addDocument(tweet);\n  };\n  useEffect(() => {\n    if (response.success) {\n      setContent(\"\");\n    }\n  }, [response.success]);\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <TextField\n        className=\"textField\"\n        error={isMaxLength}\n        helperText={\n          isMaxLength ? \"The chirp can't contain more than 140 chars.\" : \"\"\n        }\n        required\n        label=\"Chirp chirp...\"\n        onChange={(event) => {\n          setContent(event.target.value);\n          event.target.value.length === 140\n            ? setIsMaxLength(true)\n            : setIsMaxLength(false);\n        }}\n        multiline\n        minRows={5}\n        value={content}\n        sx={{ width: \"50%\", my: 5 }}\n        color={\"primary\"}\n        variant=\"filled\"\n        InputProps={{\n          endAdornment: (\n            <Button\n              disabled={response.isPending}\n              variant=\"contained\"\n              type=\"submit\"\n              sx={{ mt: \"auto\" }}\n            >\n              Chirp\n            </Button>\n          ),\n        }}\n        inputProps={{\n          maxLength: 140,\n        }}\n      />\n      {response.error && (\n        <Alert severity=\"warning\" sx={{ width: \"50%\", mx: \"auto\" }}>\n          Tweet was not added to the server\n        </Alert>\n      )}\n      {response.isPending && (\n        <LinearProgress sx={{ width: \"50%\", mx: \"auto\", mb: 5 }} />\n      )}\n    </form>\n  );\n}\n","import { onSnapshot, doc } from \"@firebase/firestore\";\nimport { projectDb } from \"../firebase/config\";\nimport { useEffect, useState } from \"react\";\n\nexport const useDocument = (collectionName, docId) => {\n  const [document, setDocument] = useState(null);\n  const [error, setError] = useState(null);\n  const [isPending, setIsPending] = useState(false);\n\n  useEffect(() => {\n    setIsPending(true);\n    let ref = doc(projectDb, collectionName, docId);\n    const unsubscribe = onSnapshot(\n      ref,\n      (doc) => {\n        setDocument(doc.data());\n        setError(null);\n        setIsPending(false);\n      },\n      (error) => {\n        console.log(error);\n        setIsPending(\"false\");\n        setError(\"could not fetch the document\");\n      }\n    );\n\n    return () => unsubscribe();\n  }, [collectionName, docId]);\n\n  return { document, error, isPending };\n};\n","import { doc } from \"@firebase/firestore\";\nimport { Button } from \"@mui/material\";\nimport { useEffect, useState } from \"react\";\nimport { projectDb } from \"../firebase/config\";\nimport { useFirestore } from \"../hooks/useFirestore\";\n\nexport default function FollowButton({\n  userId,\n  otherUserId,\n  otherUserFollowers,\n}) {\n  const [isFollowing, setIsFollowing] = useState(false);\n  const { updateDocumentArray } = useFirestore(\"users\");\n\n  useEffect(() => {\n    (function () {\n      otherUserFollowers.forEach((follower) => {\n        if (follower.id === userId) {\n          setIsFollowing(true);\n        } else {\n          setIsFollowing(false);\n        }\n      });\n    })();\n  }, [otherUserFollowers, userId]);\n\n  const handleFollow = async (e) => {\n    e.stopPropagation();\n    const follower = doc(projectDb, \"users\", userId);\n    const followed = doc(projectDb, \"users\", otherUserId);\n\n    if (!isFollowing) {\n      updateDocumentArray(userId, \"following\", {\n        type: \"PUSH\",\n        payload: followed,\n      });\n      updateDocumentArray(otherUserId, \"followers\", {\n        type: \"PUSH\",\n        payload: follower,\n      });\n    } else if (isFollowing) {\n      updateDocumentArray(userId, \"following\", {\n        type: \"FILTER\",\n        payload: followed,\n      });\n      updateDocumentArray(otherUserId, \"followers\", {\n        type: \"FILTER\",\n        payload: follower,\n      });\n    }\n    setIsFollowing((prev) => !prev);\n  };\n  return (\n    <Button\n      variant={isFollowing ? \"contained\" : \"outlined\"}\n      onClick={handleFollow}\n    >\n      {isFollowing ? \"Unfollow\" : \"Follow\"}\n    </Button>\n  );\n}\n","import { Avatar, CardHeader } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport { useNavigate } from \"react-router\";\nimport FollowButton from \"./FollowButton\";\n\nconst useStyles = makeStyles((theme) => {\n  return {\n    tweetHeader: {\n      textDecoration: \"none\",\n      \"&:hover\": {\n        backgroundColor: theme.palette.grey[700],\n        cursor: \"pointer\",\n      },\n    },\n  };\n});\n\nexport default function UserCardHeader({ user, loggedUserId }) {\n  const classes = useStyles();\n  const navigate = useNavigate();\n  const navigateLink = `/profile/${user.uid}`;\n\n  return (\n    <CardHeader\n      onClick={() => navigate(navigateLink)}\n      avatar={<Avatar alt={user.displayName} src={user.photoURL} />}\n      className={classes.tweetHeader}\n      title={user.displayName}\n      sx={{ borderBottom: 1, borderColor: \"secondary\" }}\n      action={\n        <>\n          {loggedUserId !== user.uid && (\n            <FollowButton\n              userId={loggedUserId}\n              otherUserId={user.uid}\n              otherUserFollowers={user.followers}\n            />\n          )}\n        </>\n      }\n    />\n  );\n}\n","import { Alert, Card, CircularProgress } from \"@mui/material\";\nimport { useDocument } from \"../hooks/useDocument\";\nimport UserCardHeader from \"./UserCardHeader\";\n\nexport default function UserProfile({ otherUser, userId }) {\n  const {\n    document: otherUserInfo,\n    isPending,\n    error,\n  } = useDocument(\"users\", otherUser.id);\n\n  return (\n    <>\n      <Card\n        elevation={5}\n        sx={{ width: \"50%\", mx: \"auto\", bgcolor: \"#343A40\" }}\n        key={otherUser.id}\n      >\n        {otherUserInfo && (\n          <UserCardHeader user={otherUserInfo} loggedUserId={userId} />\n        )}\n        {isPending && <CircularProgress />}\n        {error && (\n          <Alert severity=\"warning\">Cannot retrieve this users data</Alert>\n        )}\n      </Card>\n    </>\n  );\n}\n","import { useState } from \"react\";\nimport Button from \"@mui/material/Button\";\nimport Modal from \"@mui/material/Modal\";\nimport { Alert, List } from \"@mui/material\";\nimport UserProfile from \"./UserProfile\";\n\nconst style = {\n  height: \"50%\",\n  backgroundColor: \"#272727\",\n  top: \"50%\",\n  left: \"50%\",\n  transform: \"translate(-50%, -50%)\",\n  overflow: \"scroll\",\n  boxShadow: 24,\n};\n\nexport default function ListModal({ data, buttonText, errorMessage, userId }) {\n  const [open, setOpen] = useState(false);\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n\n  return (\n    <div>\n      <Button onClick={handleOpen}>{buttonText}</Button>\n      <Modal\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"modal-modal-title\"\n        aria-describedby=\"modal-modal-description\"\n      >\n        <List sx={style}>\n          {data.map((otherUser) => {\n            return (\n              <UserProfile\n                key={otherUser.id}\n                otherUser={otherUser}\n                userId={userId}\n              />\n            );\n          })}\n          {!data[0] && <Alert severity=\"warning\">{errorMessage}</Alert>}\n        </List>\n      </Modal>\n    </div>\n  );\n}\n","import { Avatar, CircularProgress, Typography } from \"@mui/material\";\nimport { useDocument } from \"../hooks/useDocument\";\n\nexport default function AvatarGroupItem({ user }) {\n  const {\n    document: userProfile,\n    isPending,\n    error,\n  } = useDocument(\"users\", user.id);\n  return (\n    <>\n      {userProfile && (\n        <Avatar alt={userProfile.displayName} src={userProfile.photoURL} />\n      )}\n      {isPending && <CircularProgress />}\n      {error && <Typography variant=\"button\"> Pictures not found!</Typography>}\n    </>\n  );\n}\n","import { IconButton } from \"@mui/material\";\nimport FavoriteIcon from \"@mui/icons-material/Favorite\";\nimport { useEffect, useState } from \"react\";\nimport { useFirestore } from \"../hooks/useFirestore\";\nimport { projectDb } from \"../firebase/config\";\nimport { doc } from \"@firebase/firestore\";\n\nexport default function LikeButton({ loggedUserId, tweet }) {\n  const [isLiked, setIsliked] = useState(false);\n\n  useEffect(() => {\n    (function () {\n      tweet.likes.forEach((e) => {\n        if (e.id === loggedUserId) {\n          setIsliked(true);\n        }\n      });\n    })();\n  }, [tweet.likes, loggedUserId]);\n\n  const { updateDocumentArray } = useFirestore(\"tweets\");\n  const handleClick = async () => {\n    const likedBy = doc(projectDb, \"users\", loggedUserId);\n    if (!isLiked) {\n      updateDocumentArray(tweet.id, \"likes\", {\n        type: \"PUSH\",\n        payload: likedBy,\n      });\n    } else if (isLiked) {\n      updateDocumentArray(tweet.id, \"likes\", {\n        type: \"FILTER\",\n        payload: likedBy,\n      });\n    }\n    setIsliked((prev) => !prev);\n  };\n\n  return (\n    <IconButton aria-label=\"add to favorites\" onClick={handleClick}>\n      {tweet.likes.length}\n      <FavoriteIcon color={isLiked ? \"error\" : \"default\"} />\n    </IconButton>\n  );\n}\n","import { Alert, AvatarGroup, Card, CircularProgress } from \"@mui/material\";\nimport CardContent from \"@mui/material/CardContent\";\nimport Typography from \"@mui/material/Typography\";\nimport CardActions from \"@mui/material/CardActions\";\nimport { useAuthContext } from \"../hooks/useAuthContext\";\nimport { Box } from \"@mui/system\";\nimport ListModal from \"./ListModal\";\nimport { useDocument } from \"../hooks/useDocument\";\nimport AvatarGroupItem from \"./AvatarGroupItem\";\nimport UserCardHeader from \"./UserCardHeader\";\nimport LikeButton from \"./LikeButton\";\n\nexport default function Tweet({ tweet }) {\n  const { user } = useAuthContext();\n  const {\n    document: tweetOwner,\n    error,\n    isPending,\n  } = useDocument(\"users\", tweet.uid);\n\n  const modalButtonDisplay = (\n    <AvatarGroup max={4}>\n      {tweet.likes.slice(0, 4).map((user) => {\n        return <AvatarGroupItem key={user.id} user={user} />;\n      })}\n      {tweet.likes.slice(4).map((e) => (\n        <div key={e} />\n      ))}\n    </AvatarGroup>\n  );\n\n  return (\n    <>\n      {tweetOwner && (\n        <Card\n          elevation={5}\n          sx={{ width: \"50%\", mx: \"auto\", bgcolor: \"#343A40\" }}\n        >\n          <UserCardHeader user={tweetOwner} loggedUserId={user.uid} />\n          <Box>\n            <CardContent>\n              <Typography variant=\"body1\" color=\"text.secondary\">\n                {tweet.content}\n              </Typography>\n            </CardContent>\n            <CardActions disableSpacing>\n              <LikeButton loggedUserId={user.uid} tweet={tweet} />\n              <ListModal\n                data={tweet.likes}\n                buttonText={modalButtonDisplay}\n                errorMessage={\"No Likes\"}\n                userId={user.uid}\n              />\n            </CardActions>\n          </Box>\n          {isPending && <CircularProgress />}\n          {error && (\n            <Alert severity=\"warning\">\n              Could not retrieve chirp owner info information\n            </Alert>\n          )}\n        </Card>\n      )}\n    </>\n  );\n}\n","import { Box } from \"@mui/system\";\nimport Tweet from \"./Tweet\";\n\nexport default function TweetList({ data }) {\n  return (\n    <Box\n      sx={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"100%\",\n        gap: \"20px\",\n      }}\n    >\n      {data &&\n        data.map((tweet) => {\n          return <Tweet key={tweet.id} tweet={tweet} />;\n        })}\n    </Box>\n  );\n}\n","import {\n  collection,\n  onSnapshot,\n  query,\n  where,\n  orderBy,\n  limit,\n} from \"@firebase/firestore\";\nimport { projectDb } from \"../firebase/config\";\nimport { useEffect, useState } from \"react\";\n\nexport const useCollection = (collectionName, condition, order) => {\n  const [documents, setDocuments] = useState(null);\n  const [error, setError] = useState(null);\n  const [isPending, setIsPending] = useState(false);\n  const [docLimit, setDocLimit] = useState(10);\n  const [docLimitError, setDocLimitError] = useState(null);\n\n  useEffect(() => {\n    setDocLimitError(null);\n    setIsPending(true);\n    let ref = collection(projectDb, collectionName);\n\n    if (condition) {\n      ref = query(ref, where(...condition));\n    }\n    if (order) {\n      ref = query(ref, orderBy(...order), limit(docLimit));\n    }\n    const unsubscribe = onSnapshot(\n      ref,\n      (snapshot) => {\n        const results = [];\n        snapshot.docs.forEach((doc) => {\n          results.push({ ...doc.data(), id: doc.id });\n        });\n        setDocuments(results);\n        setError(null);\n        setIsPending(false);\n        if (snapshot.size + 10 < docLimit) {\n          setDocLimitError(\"No more chirps\");\n          setIsPending(false);\n          return;\n        }\n      },\n      (error) => {\n        console.log(error);\n        setIsPending(\"false\");\n        setError(\"could not fetch the data\");\n      }\n    );\n\n    return () => unsubscribe();\n  }, [collectionName, condition, order, docLimit]);\n\n  const getMoreDocs = (reset) => {\n    if (reset) {\n      setDocLimit(10);\n    } else {\n      setDocLimit((prev) => prev + 10);\n    }\n  };\n\n  return { documents, error, isPending, getMoreDocs, docLimit, docLimitError };\n};\n","import { doc } from \"@firebase/firestore\";\nimport {\n  Alert,\n  LinearProgress,\n  ToggleButton,\n  ToggleButtonGroup,\n} from \"@mui/material\";\nimport { useState } from \"react\";\nimport { projectDb } from \"../firebase/config\";\nimport { useAuthContext } from \"../hooks/useAuthContext\";\nimport { useDocument } from \"../hooks/useDocument\";\n\nexport default function FilterTweets({ setTweetFilterCondition, getMoreDocs }) {\n  const { user } = useAuthContext();\n  const {\n    document: userInfo,\n    isPending,\n    error,\n  } = useDocument(\"users\", user.uid);\n  const [selected, setSelected] = useState(\"ALL\");\n  let myMap;\n  if (userInfo) {\n    myMap = {\n      ALL: null,\n      MY_CHIRPS: [\"uid\", \"==\", user.uid],\n      MY_LIKED_CHIRPS: [\n        \"likes\",\n        \"array-contains\",\n        doc(projectDb, \"users\", user.uid),\n      ],\n      FOLLOWING: [\"createdBy\", \"in\", userInfo.following],\n    };\n  }\n\n  const handleChange = (e) => {\n    if (e.target.value !== selected) {\n      getMoreDocs(\"reset\");\n      setTweetFilterCondition(myMap[e.target.value]);\n      setSelected(e.target.value);\n    }\n  };\n\n  return (\n    <>\n      {userInfo && (\n        <ToggleButtonGroup\n          value={selected}\n          exclusive\n          onChange={handleChange}\n          sx={{ mb: 5 }}\n        >\n          <ToggleButton value=\"ALL\">All Chirps</ToggleButton>\n          <ToggleButton value=\"MY_CHIRPS\">My Chirps</ToggleButton>\n          <ToggleButton value=\"MY_LIKED_CHIRPS\">Liked Chirps</ToggleButton>\n\n          <ToggleButton value=\"FOLLOWING\" disabled={!userInfo.following[0]}>\n            Following\n          </ToggleButton>\n        </ToggleButtonGroup>\n      )}\n      {isPending && (\n        <LinearProgress\n          color=\"warning\"\n          sx={{ width: \"50%\", mx: \"auto\", my: 1 }}\n        />\n      )}\n      {error && (\n        <Alert sx={{ width: \"50%\", mx: \"auto\" }} severity=\"error\">\n          {error}\n        </Alert>\n      )}\n    </>\n  );\n}\n","import { Alert, Button } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport { useState } from \"react\";\nimport TweetForm from \"../../components/TweetForm\";\nimport TweetList from \"../../components/TweetList\";\nimport { useCollection } from \"../../hooks/useCollection\";\nimport FilterTweets from \"../../components/FilterTweets\";\n\nexport default function Home() {\n  const [tweetFilterCondition, setTweetFilterCondition] = useState(null);\n  const [tweetOrderCondition] = useState([\"date\", \"desc\"]);\n  const {\n    documents: data,\n    error,\n    getMoreDocs,\n    docLimitError,\n  } = useCollection(\"tweets\", tweetFilterCondition, tweetOrderCondition);\n\n  return (\n    <Box\n      sx={{ overflow: \"scroll\", height: \"100vh\" }}\n      onScroll={(e) => {\n        if (\n          e.target.scrollHeight - e.target.scrollTop ===\n            e.target.clientHeight &&\n          !docLimitError\n        ) {\n          getMoreDocs(null);\n        }\n      }}\n    >\n      <TweetForm />\n      <FilterTweets\n        setTweetFilterCondition={setTweetFilterCondition}\n        getMoreDocs={getMoreDocs}\n      />\n      {data && <TweetList data={data} />}\n      {docLimitError && <Button variant=\"text\">{docLimitError}</Button>}\n      {error && (\n        <Alert sx={{ width: \"50%\", mx: \"auto\" }} severity=\"error\">\n          {error}\n        </Alert>\n      )}\n    </Box>\n  );\n}\n","import { Alert, Button, CircularProgress, TextField } from \"@mui/material\";\nimport { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useLogin } from \"../../hooks/useLogin\";\n\nexport default function Login() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const { login, isPending, error } = useLogin();\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    login(email, password);\n  };\n  return (\n    <>\n      <h1 style={{ color: \"white\" }}>Welcome back, </h1>\n      <form\n        onSubmit={handleSubmit}\n        style={{\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"center\",\n        }}\n      >\n        <TextField\n          variant=\"filled\"\n          required\n          label=\"Email\"\n          onChange={(e) => {\n            setEmail(e.target.value);\n          }}\n          value={email}\n          sx={{ width: \"50%\", my: 5 }}\n        />\n        <TextField\n          variant=\"filled\"\n          required\n          type=\"password\"\n          label=\"Password\"\n          onChange={(e) => {\n            setPassword(e.target.value);\n          }}\n          value={password}\n          sx={{ width: \"50%\", my: 5 }}\n        />\n        <div style={{ display: \"flex\", alignItems: \"center\" }}>\n          <Button type=\"submit\" variant=\"contained\">\n            Log in\n          </Button>\n          {isPending && <CircularProgress sx={{ mx: 2 }} />}\n        </div>\n        {error && (\n          <Alert sx={{ my: 5 }} severity=\"error\">\n            {error}\n          </Alert>\n        )}\n        <Link to=\"/signup\" className=\"navLink\" style={{ padding: 0 }}>\n          <Button size=\"small\" variant=\"text\">\n            Not a user? Sign Up\n          </Button>\n        </Link>\n      </form>\n    </>\n  );\n}\n","import { signInWithEmailAndPassword } from \"@firebase/auth\";\nimport { projectAuth } from \"../firebase/config\";\nimport { useEffect, useState } from \"react\";\nimport { useAuthContext } from \"./useAuthContext\";\n\nexport const useLogin = () => {\n  const [isCancelled, setIsCancelled] = useState(false);\n  const [error, setError] = useState(null);\n  const [isPending, setIsPending] = useState(false);\n  const { dispatch } = useAuthContext();\n\n  const login = async (email, password) => {\n    setError(null);\n    setIsPending(true);\n    try {\n      const res = await signInWithEmailAndPassword(\n        projectAuth,\n        email,\n        password\n      );\n      dispatch({ type: \"LOGIN\", payload: res.user });\n\n      if (!isCancelled) {\n        setIsPending(false);\n        setError(null);\n      }\n    } catch (err) {\n      if (!isCancelled) {\n        console.log(err.message);\n        setError(err.message);\n        setIsPending(false);\n      }\n    }\n  };\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, []);\n  return { login, error, isPending };\n};\n","import { Alert, Avatar, LinearProgress, TextField } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport { useAuthContext } from \"../hooks/useAuthContext\";\nimport { useDocument } from \"../hooks/useDocument\";\nimport ListModal from \"./ListModal\";\nimport FollowButton from \"./FollowButton\";\n\nexport default function OtherUserProfile({ id }) {\n  const { user } = useAuthContext();\n  const { document: otherUser, isPending, error } = useDocument(\"users\", id);\n  return (\n    <>\n      {otherUser && (\n        <Box\n          sx={{\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"center\",\n            my: 5,\n          }}\n        >\n          <Avatar\n            alt={otherUser.displayName}\n            src={otherUser.photoURL}\n            sx={{ my: 5 }}\n          />\n          <Box sx={{ display: \"flex\", gap: 5 }}>\n            <ListModal\n              userId={user.uid}\n              data={otherUser.followers}\n              buttonText={otherUser.followers.length + \" Followers\"}\n              errorMessage={\n                otherUser.displayName + \" has no followers, show him some love\"\n              }\n            />\n            <ListModal\n              userId={user.uid}\n              data={otherUser.following}\n              buttonText={otherUser.following.length + \" Following\"}\n              errorMessage={otherUser.displayName + \" is not following anyone\"}\n            />\n          </Box>\n          <TextField\n            disabled\n            variant=\"filled\"\n            value={otherUser.displayName}\n            sx={{ width: \"50%\", my: 5 }}\n          />\n\n          <FollowButton\n            userId={user.uid}\n            otherUserId={otherUser.uid}\n            otherUserFollowers={otherUser.followers}\n          />\n        </Box>\n      )}\n      {isPending && (\n        <LinearProgress\n          color=\"warning\"\n          sx={{ width: \"50%\", mx: \"auto\", my: 1 }}\n        />\n      )}\n      {error && (\n        <Alert sx={{ width: \"50%\", mx: \"auto\" }} severity=\"error\">\n          {error}\n        </Alert>\n      )}\n    </>\n  );\n}\n","import { Alert, Avatar } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { useDropzone } from \"react-dropzone\";\n\nconst baseStyle = {\n  flex: 1,\n  display: \"flex\",\n  flexDirection: \"column\",\n  alignItems: \"center\",\n  padding: \"20px\",\n  borderWidth: 2,\n  borderRadius: 2,\n  borderColor: \"#eeeeee\",\n  borderStyle: \"dashed\",\n  backgroundColor: \"#fafafa\",\n  color: \"#bdbdbd\",\n  outline: \"none\",\n  transition: \"border .24s ease-in-out\",\n};\n\nconst activeStyle = {\n  borderColor: \"#2196f3\",\n};\n\nconst acceptStyle = {\n  borderColor: \"#00e676\",\n};\n\nconst rejectStyle = {\n  borderColor: \"#ff1744\",\n};\n\nconst thumbsContainer = {\n  display: \"flex\",\n  flexDirection: \"row\",\n  flexWrap: \"wrap\",\n  marginTop: 16,\n  justifyContent: \"center\",\n};\n\nconst thumb = {\n  display: \"inline-flex\",\n  borderRadius: 2,\n  border: \"1px solid #eaeaea\",\n  marginBottom: 8,\n  marginRight: 8,\n  width: 100,\n  height: 100,\n  padding: 4,\n  boxSizing: \"border-box\",\n};\n\nconst thumbInner = {\n  display: \"flex\",\n  minWidth: 0,\n  overflow: \"hidden\",\n};\n\nconst img = {\n  display: \"block\",\n  width: \"auto\",\n  height: \"100%\",\n};\n\nexport default function UploadImage({\n  user,\n  setThumbnail,\n  setThumbnailError,\n  thumbnailError,\n  showPreview,\n  thumbnail,\n}) {\n  const [files, setFiles] = useState([]);\n  const validator = (file) => {\n    setThumbnailError(null);\n    if (file.type.split(\"/\")[0] !== \"image\") {\n      setThumbnailError(\"File must be an image\");\n      return;\n    }\n    if (file.size > 1000000) {\n      setThumbnailError(\"File must be less than 1mb\");\n      return;\n    }\n  };\n  const {\n    getRootProps,\n    getInputProps,\n    isDragActive,\n    isDragAccept,\n    isDragReject,\n  } = useDropzone({\n    validator: validator,\n    accept: \"image/*\",\n    maxSize: 1000000,\n    onDrop: (acceptedFiles) => {\n      setFiles(\n        acceptedFiles.map((file) =>\n          Object.assign(file, {\n            photoURL: URL.createObjectURL(file),\n          })\n        )\n      );\n      setThumbnail(acceptedFiles[0]);\n    },\n  });\n\n  const thumbs = files.map((file) => (\n    <div style={thumb} key={file.name}>\n      <div style={thumbInner}>\n        <img src={file.photoURL} style={img} alt={file.name} />\n      </div>\n    </div>\n  ));\n\n  useEffect(\n    () => () => {\n      files.forEach((file) => URL.revokeObjectURL(file.preview));\n    },\n    [files]\n  );\n\n  const style = useMemo(\n    () => ({\n      ...baseStyle,\n      ...(isDragActive ? activeStyle : {}),\n      ...(isDragAccept ? acceptStyle : {}),\n      ...(isDragReject ? rejectStyle : {}),\n    }),\n    [isDragActive, isDragReject, isDragAccept]\n  );\n\n  return (\n    <>\n      {!showPreview && (\n        <Avatar alt={user.displayName} src={user.photoURL} sx={{ my: 5 }} />\n      )}\n      {showPreview && (\n        <Box sx={{ mt: 1 }}>\n          <div {...getRootProps({ style })}>\n            <input {...getInputProps()} />\n            <p>Please Upload a profile picture. Click here or drag and drop.</p>\n          </div>\n          <div style={thumbsContainer}>{thumbs}</div>\n          {thumbnailError && <Alert severity=\"error\">{thumbnailError}</Alert>}\n        </Box>\n      )}\n    </>\n  );\n}\n","import { updateProfile } from \"@firebase/auth\";\nimport { doc, updateDoc } from \"@firebase/firestore\";\nimport { getDownloadURL, ref, uploadBytes } from \"@firebase/storage\";\nimport { projectDb, projectStorage } from \"../firebase/config\";\nimport {\n  Alert,\n  Button,\n  ButtonGroup,\n  CircularProgress,\n  FormControlLabel,\n  Switch,\n  TextField,\n} from \"@mui/material\";\nimport { useState } from \"react\";\nimport { useAuthContext } from \"../hooks/useAuthContext\";\nimport UploadImage from \"./UploadImage\";\nimport { Box } from \"@mui/system\";\nimport ListModal from \"./ListModal\";\nimport { useDocument } from \"../hooks/useDocument\";\n\nexport default function ProfileForm() {\n  const { user } = useAuthContext();\n  const { document: currentUserProfile } = useDocument(\"users\", user.uid);\n  const [isEditMode, setIsEditMode] = useState(false);\n  const [currentUser, setCurrentUser] = useState(user.displayName);\n  const [isPending, setIsPending] = useState(false);\n  const [error, setError] = useState(null);\n  const [thumbnail, setThumbnail] = useState(null);\n  const [thumbnailError, setThumbnailError] = useState(null);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError(null);\n    setIsPending(true);\n    const userRef = doc(projectDb, \"users\", user.uid);\n    try {\n      let uploadPath, imageRef, thumbnailURL;\n      if (thumbnail) {\n        uploadPath = `thumbnails/${user.uid}/${thumbnail.name}`;\n        imageRef = ref(projectStorage, uploadPath);\n        await uploadBytes(imageRef, thumbnail);\n        thumbnailURL = await getDownloadURL(imageRef);\n      }\n      await updateProfile(user, {\n        displayName: currentUser,\n        photoURL: thumbnailURL || user.photoURL,\n      });\n      await updateDoc(userRef, {\n        displayName: currentUser,\n        photoURL: thumbnailURL || user.photoURL,\n      });\n\n      setIsPending(false);\n      window.location.reload();\n    } catch (err) {\n      console.log(err);\n      setIsPending(false);\n      setError(\"Could not update profile. Please try again.\");\n    }\n  };\n  const isFormChanged = currentUser !== user.displayName || thumbnail;\n  const handleEditModeExit = () => {\n    if (isEditMode && isFormChanged) {\n      alert(\"Please save your changes\");\n      return;\n    }\n    setIsEditMode(!isEditMode);\n    setThumbnailError(null);\n  };\n  const handleReset = () => {\n    setCurrentUser(user.displayName);\n    setThumbnail(null);\n    setThumbnailError(null);\n  };\n  return (\n    <form\n      onSubmit={handleSubmit}\n      style={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        my: 5,\n      }}\n    >\n      <FormControlLabel\n        sx={{\n          display: \"block\",\n          mt: 5,\n          color: \"white\",\n        }}\n        control={\n          <Switch\n            checked={isEditMode}\n            onChange={handleEditModeExit}\n            name=\"edit\"\n            color=\"primary\"\n          />\n        }\n        label=\"Edit\"\n      />\n\n      <UploadImage\n        user={user}\n        showPreview={isEditMode}\n        thumbnail={thumbnail}\n        setThumbnail={setThumbnail}\n        thumbnailError={thumbnailError}\n        setThumbnailError={setThumbnailError}\n      />\n      {currentUserProfile && (\n        <Box sx={{ display: \"flex\", gap: 5 }}>\n          <ListModal\n            userId={user.uid}\n            data={currentUserProfile.followers}\n            buttonText={currentUserProfile.followers.length + \" Followers\"}\n            errorMessage=\"No followers...get chirping and win some followers!\"\n          />\n          <ListModal\n            userId={user.uid}\n            data={currentUserProfile.following}\n            buttonText={currentUserProfile.following.length + \" Following\"}\n            errorMessage=\"Not Following anyone... come on be social!\"\n          />\n        </Box>\n      )}\n      <TextField\n        disabled={!isEditMode}\n        variant=\"filled\"\n        required\n        label=\"Display Name\"\n        sx={{ width: \"50%\", my: 5 }}\n        onChange={(e) => setCurrentUser(e.target.value.replace(/\\s+/g, \"\"))}\n        onKeyDown={(e) => {\n          if (e.key === \" \") {\n            setError(\"Display name cannot contain spaces!\");\n          }\n          if (e.key !== \" \") {\n            setError(null);\n          }\n        }}\n        value={currentUser}\n      />\n\n      {isEditMode && (\n        <ButtonGroup>\n          <Button\n            disabled={isPending || !isFormChanged}\n            variant=\"contained\"\n            type=\"submit\"\n          >\n            SAVE\n          </Button>\n          <Button\n            disabled={isPending || !isFormChanged}\n            variant=\"outlined\"\n            onClick={handleReset}\n          >\n            RESET\n          </Button>\n          {isPending && <CircularProgress />}\n        </ButtonGroup>\n      )}\n\n      {error && (\n        <Alert sx={{ my: 5 }} severity=\"error\">\n          {error}\n        </Alert>\n      )}\n    </form>\n  );\n}\n","import { useParams } from \"react-router\";\nimport OtherUserProfile from \"../../components/OtherUserProfile\";\nimport ProfileForm from \"../../components/ProfileForm\";\nimport { useAuthContext } from \"../../hooks/useAuthContext\";\nexport default function Profile() {\n  const { user } = useAuthContext();\n  const { id } = useParams();\n  return (\n    <>\n      {(!id || id === user.uid) && <ProfileForm />}\n      {id && id !== user.uid && <OtherUserProfile id={id} />}\n    </>\n  );\n}\n","import { Alert, Button, CircularProgress, TextField } from \"@mui/material\";\nimport { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport UploadImage from \"../../components/UploadImage\";\nimport { useSignup } from \"../../hooks/useSignup\";\n\nexport default function Signup() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [displayName, setDisplayName] = useState(\"\");\n  const [thumbnail, setThumbnail] = useState(null);\n  const [thumbnailError, setThumbnailError] = useState(null);\n\n  const { error, isPending, signup } = useSignup();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    signup(email, password, displayName, thumbnail);\n  };\n\n  return (\n    <>\n      <h1 style={{ color: \"white\" }}>Sign up</h1>\n      <form\n        onSubmit={handleSubmit}\n        style={{\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"center\",\n        }}\n      >\n        <TextField\n          variant=\"filled\"\n          required\n          label=\"Email\"\n          onChange={(e) => {\n            setEmail(e.target.value);\n          }}\n          value={email}\n          sx={{ width: \"50%\", my: 5 }}\n        />\n        <TextField\n          variant=\"filled\"\n          required\n          type=\"password\"\n          label=\"Password\"\n          onChange={(e) => {\n            setPassword(e.target.value);\n          }}\n          value={password}\n          sx={{ width: \"50%\", my: 5 }}\n        />\n        <TextField\n          variant=\"filled\"\n          required\n          label=\"Display Name\"\n          onChange={(e) => {\n            setDisplayName(e.target.value.replace(/\\s+/g, \"\"));\n          }}\n          value={displayName}\n          sx={{ width: \"50%\", my: 5 }}\n          error={displayName.length >= 15}\n        />\n\n        <UploadImage\n          user={null}\n          showPreview={true}\n          thumbnail={thumbnail}\n          setThumbnail={setThumbnail}\n          thumbnailError={thumbnailError}\n          setThumbnailError={setThumbnailError}\n        />\n\n        <div style={{ display: \"flex\", alignItems: \"center\" }}>\n          <Button type=\"submit\" variant=\"contained\">\n            Sign up\n          </Button>\n          {isPending && <CircularProgress sx={{ mx: 2 }} />}\n        </div>\n\n        {error && (\n          <Alert sx={{ my: 5 }} severity=\"error\">\n            {error}\n          </Alert>\n        )}\n        <Link to=\"/login\" className=\"navLink\" style={{ padding: 0 }}>\n          <Button size=\"small\" variant=\"text\">\n            Already a user? Log in\n          </Button>\n        </Link>\n      </form>\n    </>\n  );\n}\n","import { projectAuth, projectStorage } from \"../firebase/config\";\nimport { createUserWithEmailAndPassword, updateProfile } from \"@firebase/auth\";\nimport { getDownloadURL, ref, uploadBytes } from \"@firebase/storage\";\nimport { useEffect, useState } from \"react\";\nimport { useAuthContext } from \"./useAuthContext\";\nimport { useFirestore } from \"./useFirestore\";\n\nexport const useSignup = () => {\n  const [isCancelled, setIsCancelled] = useState(false);\n  const [error, setError] = useState(null);\n  const [isPending, setIsPending] = useState(false);\n  const { dispatch } = useAuthContext();\n  const { addDocument } = useFirestore(\"users\");\n\n  const signup = async (email, password, displayName, thumbnail) => {\n    setError(null);\n    setIsPending(true);\n    try {\n      if (!thumbnail) {\n        throw new Error(\"Please upload an image\");\n      }\n      const res = await createUserWithEmailAndPassword(\n        projectAuth,\n        email,\n        password\n      );\n\n      if (!res) {\n        throw new Error(\"Could not complete signup\");\n      }\n      const uploadPath = `thumbnails/${res.user.uid}/${thumbnail.name}`;\n      const imageRef = ref(projectStorage, uploadPath);\n      await uploadBytes(imageRef, thumbnail);\n      const thumbnailURL = await getDownloadURL(imageRef);\n      await updateProfile(res.user, { displayName, photoURL: thumbnailURL });\n\n      dispatch({ type: \"LOGIN\", payload: res.user });\n      addDocument({\n        uid: res.user.uid,\n        displayName: res.user.displayName,\n        email: res.user.email,\n        photoURL: res.user.photoURL,\n        following: [],\n        followers: [],\n      });\n      if (!isCancelled) {\n        setIsPending(false);\n        setError(null);\n      }\n    } catch (err) {\n      console.log(err.message);\n      if (!isCancelled) {\n        setIsPending(false);\n        setError(err.message);\n      }\n    }\n  };\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, []);\n\n  return { error, isPending, signup };\n};\n","import { Alert, Button, LinearProgress } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport { useState } from \"react\";\nimport TweetList from \"../../components/TweetList\";\nimport { useCollection } from \"../../hooks/useCollection\";\n\nexport default function ChirpResults({ searchInput }) {\n  const [filterCondition] = useState([\"content\", \"==\", searchInput]);\n  const [orderCondition] = useState([\"date\", \"desc\"]);\n  const {\n    documents: data,\n    error,\n    isPending,\n  } = useCollection(\"tweets\", filterCondition, orderCondition);\n\n  return (\n    <Box sx={{ overflow: \"scroll\", height: \"100vh\", mt: 5 }}>\n      {data && <TweetList data={data} />}\n\n      <Button variant=\"text\">Search results will only show 10</Button>\n\n      {isPending && (\n        <LinearProgress\n          color=\"warning\"\n          sx={{ width: \"50%\", mx: \"auto\", my: 1 }}\n        />\n      )}\n      {error && (\n        <Alert sx={{ width: \"50%\", mx: \"auto\" }} severity=\"error\">\n          {error}\n        </Alert>\n      )}\n    </Box>\n  );\n}\n","import { Alert, Button, LinearProgress } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport { useCollection } from \"../../hooks/useCollection\";\nimport { useState } from \"react\";\nimport UserProfile from \"../../components/UserProfile\";\nimport { useAuthContext } from \"../../hooks/useAuthContext\";\n\nexport default function UserResults({ searchInput }) {\n  const { user } = useAuthContext();\n  const [filterCondition] = useState([\"displayName\", \"==\", searchInput]);\n  const {\n    documents: data,\n    error,\n    isPending,\n  } = useCollection(\"users\", filterCondition, null);\n\n  return (\n    <Box\n      sx={{\n        overflow: \"scroll\",\n        height: \"100vh\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        mt: 5,\n      }}\n    >\n      {data &&\n        data.map((otherUser) => {\n          return (\n            <UserProfile\n              key={otherUser.id}\n              otherUser={otherUser}\n              userId={user.uid}\n            />\n          );\n        })}\n\n      <Button variant=\"text\">Search results will only show 10</Button>\n      {isPending && (\n        <LinearProgress\n          color=\"warning\"\n          sx={{ width: \"50%\", mx: \"auto\", my: 1 }}\n        />\n      )}\n      {error && (\n        <Alert sx={{ width: \"50%\", mx: \"auto\" }} severity=\"error\">\n          {error}\n        </Alert>\n      )}\n    </Box>\n  );\n}\n","import { useParams } from \"react-router\";\nimport ChirpResults from \"./ChirpResults\";\nimport UserResults from \"./UserResults\";\n\nexport default function SearchResults() {\n  const { searchFilter, searchInput } = useParams();\n  return (\n    <>\n      {searchFilter === \"chirps\" && <ChirpResults searchInput={searchInput} />}\n      {searchFilter === \"users\" && <UserResults searchInput={searchInput} />}\n    </>\n  );\n}\n","import { Box } from \"@mui/system\";\nimport { ThemeProvider } from \"@mui/material/styles\";\nimport { theme } from \"./mui/theme\";\nimport { BrowserRouter, Routes, Route } from \"react-router-dom\";\nimport { Navigate } from \"react-router\";\nimport Navbar from \"./components/Navbar\";\nimport { useAuthContext } from \"./hooks/useAuthContext\";\nimport Home from \"./pages/home/Home\";\nimport Login from \"./pages/login/Login\";\nimport Profile from \"./pages/profile/Profile\";\nimport Signup from \"./pages/signup/Signup\";\nimport SearchResults from \"./pages/searchResults/SearchResults\";\n\nfunction App() {\n  const { user, authIsReady } = useAuthContext();\n\n  return (\n    <ThemeProvider theme={theme}>\n      <Box sx={{ textAlign: \"center\" }}>\n        {authIsReady && (\n          <BrowserRouter>\n            {user && <Navbar />}\n            <Routes>\n              <Route\n                path=\"/\"\n                element={(user && <Home />) || <Navigate to=\"/login\" />}\n              />\n              <Route\n                exact\n                path=\"/profile\"\n                element={(user && <Profile />) || <Navigate to=\"/login\" />}\n              />\n              <Route\n                path=\"/signup\"\n                element={(!user && <Signup />) || <Navigate to=\"/\" />}\n              />\n              <Route\n                path=\"/login\"\n                element={(!user && <Login />) || <Navigate to=\"/\" />}\n              />\n              <Route\n                path=\"/profile/:id\"\n                element={(user && <Profile />) || <Navigate to=\"/\" />}\n              />\n              <Route\n                path=\"/:searchFilter/:searchInput\"\n                element={(user && <SearchResults />) || <Navigate to=\"/\" />}\n              />\n              <Route path=\"*\" exact />\n            </Routes>\n          </BrowserRouter>\n        )}\n      </Box>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { AuthContextProvider } from \"./context/AuthContext\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n      <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}